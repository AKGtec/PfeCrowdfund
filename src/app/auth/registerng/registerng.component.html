<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="username">First Name</label>
    <div class="input-with-icon">
      <mat-icon>person</mat-icon>
      <input 
        type="text" 
        id="username" 
        formControlName="username" 
        placeholder="Enter your first name">
    </div>
    <div *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched" 
         class="error-message">
      Please enter your first name
    </div>
  </div>

    <div class="form-group">
    <label for="lastName">Last Name</label>
    <div class="input-with-icon">
      <mat-icon>person_outline</mat-icon>
      <input 
        type="text" 
        id="lastName" 
        formControlName="lastName" 
        placeholder="Enter your last name">
    </div>
    <div *ngIf="registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched" 
         class="error-message">
      Please enter your last name
    </div>
  </div>

  <div class="form-group">
    <label for="email">Email</label>
    <div class="input-with-icon">
      <mat-icon>email</mat-icon>
      <input 
        type="email" 
        id="email" 
        formControlName="email" 
        placeholder="Enter your email">
    </div>
    <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" 
         class="error-message">
      Please enter a valid email
    </div>
  </div>

   <div class="form-group">
    <label for="phoneNumber">Phone Number</label>
    <div class="input-with-icon">
      <mat-icon>phone</mat-icon>
      <input 
        type="tel" 
        id="phoneNumber" 
        formControlName="phoneNumber" 
        placeholder="Enter your phone number">
    </div>
    <div *ngIf="registerForm.get('phoneNumber')?.invalid && registerForm.get('phoneNumber')?.touched" 
         class="error-message">
      Please enter a valid 10-digit phone number
    </div>
  </div>

  <div class="form-group">
    <label for="password">Password</label>
    <input 
      type="password" 
      id="password" 
      formControlName="password" 
      placeholder="Enter your password">
    <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" 
         class="error-message">
      Password must be at least 8 characters
    </div>
  </div>

  <div class="form-group">
    <label for="confirmPassword">Confirm Password</label>
    <input 
      type="password" 
      id="confirmPassword" 
      formControlName="confirmPassword" 
      placeholder="Confirm your password">
    <div *ngIf="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched" 
         class="error-message">
      Passwords must match
    </div>
  </div>

  <div class="form-group">
    <label for="userType">I want to</label>
    <select id="userType" formControlName="userType">
      <option value="Backer">Support projects</option>
      <option value="ProjectOwner">Create projects</option>
    </select>
  </div>

  <div class="form-check">
    <input type="checkbox" id="terms" formControlName="acceptTerms">
    <label for="terms">
      I agree to the <a href="/terms" target="_blank">Terms of Service</a> and 
      <a href="/privacy" target="_blank">Privacy Policy</a>
    </label>
    <div *ngIf="registerForm.get('acceptTerms')?.invalid && registerForm.get('acceptTerms')?.touched" 
         class="error-message">
      You must accept the terms
    </div>
  </div>

  <button type="submit" class="submit-btn" [disabled]="registerForm.invalid || isLoading">
    <span *ngIf="!isLoading">Create Account</span>
    <span *ngIf="isLoading">Creating account...</span>
  </button>

  <div *ngIf="errorMessage" class="error-message server-error">
    {{ errorMessage }}
  </div>
</form>